<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Stop clearing the cache</title>
  <meta name="description" content="In the last hour I ran into 3 broken websites which were all broken by running outdated javascript files which were cached in my browser.Here are some possib...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://meh.dev/stop-clearing-the-cache">
  <link rel="alternate" type="application/rss+xml" title="meh.dev" href="https://meh.dev/feed.xml">
</head>


  <body>

    <header class="site-header">
  <div class="wrapper">
    <a class="site-title" href="/">
      <img src="https://0.gravatar.com/avatar/ccf00de89ec54577fb9fd612358a9808?s=56">
      meh.dev
    </a>
    <nav class="site-nav">
      <a class="page-link" href="/cv">CV</a>
      <a class="page-link" href="/archive">Archive</a>
    </nav>
  </div>
</header>


    <div class="wrapper">
      

<article class="post content-wrapper content-style-green" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Stop clearing the cache</h2>
    <div class="post-meta">
        <div class="post-meta-text">
          <div class="post-meta-icon">
            <i class="far fa-calendar"></i>
          </div>
          Posted on 
          <time datetime="2018-12-01T08:00:00+00:00" itemprop="datePublished">
            Dec 1, 2018
          </time>
        </div>
        
        
        
        
        
        <ul class="tag-list">
          
          <li class="inline"><a class="tag-list-link" href="/tag/Rants">Rants</a></li>
          
        </ul>
        
    </div>
  </header>
  
  <div class="post-content" itemprop="articleBody">
    <p>In the last hour I ran into 3 broken websites which were all broken by running outdated javascript files which were cached in my browser.</p>

<p>Here are some possibilities</p>
<ul>
  <li>You can set <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">cache headers</a>. This is better then nothing. If you do releases at night and most of your users are on the site during the day then this might fully fix the issue for you. It’s not 100% though since if you were to change something in the middle of the day any users who were already on the site that day would not get your changes.</li>
  <li>You can version your releases. When you publish your code put all of the assets for the new version into a new file location like https://example.com/v9001/style.css</li>
  <li>You can include a hash with your files, like <code class="language-plaintext highlighter-rouge">style.912ec803b2ce49e4a541068d495ab570.css</code> where the hash is based on the file you are serving. This requires some build process changes but is my favorite way to go about it since the hash is a convenient way to verify things. For example: <a href="https://webpack.js.org/guides/caching/">Webpack is good at this</a></li>
</ul>

<p>So save your users the headache and stop telling them to clear their browser cache.</p>

<p>Remember what cachey the bear says: “Only you can prevent broken caches”</p>


    

    
    
  </div>

  

  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
    this.page.url = "https://meh.dev/stop-clearing-the-cache";
    this.page.identifier = '/stop-clearing-the-cache';
  };
  (function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://jspaetzel.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view comments</noscript>
  <script id="dsq-count-scr" src="//jspaetzel.disqus.com/count.js" async></script>
</article>


    </div>

    <footer class="footer">
    <div class="copyright">© 2021  <i class="fas fa-heart"></i>  John Spaetzel</div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Josefin Sans', 'Noto Sans', 'Roboto Mono', 'Material Icons']
    }
  });
</script>
<script src="https://kit.fontawesome.com/ea17bff308.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W3G88JG6ZH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-W3G88JG6ZH');
</script>

  </body>

</html>
